
<html>
<head>
<title>Thread::Apartment::Client</title>
</head>
<body>
<table width='100%' border=0 CELLPADDING='0' CELLSPACING='3'>
<TR>
<TD VALIGN='top' align=left><FONT SIZE='-2'>
 SUMMARY:&nbsp;<A HREF='#constructor_summary'>CONSTR</a>&nbsp;|&nbsp;<A HREF='#method_summary'>METHOD</a>
 </FONT></TD>
<TD VALIGN='top' align=right><FONT SIZE='-2'>
DETAIL:&nbsp;<A HREF='#constructor_detail'>CONSTR</a>&nbsp;|&nbsp;<A HREF='#method_detail'>METHOD</a>
</FONT></TD>
</TR>
</table><hr>
<h2>Class Thread::Apartment::Client</h2>

<p>
<dl>
<dt><b>Inherits from:</b>
<dd><a href='../../Thread/Queue/TQDContainer.html'>Thread::Queue::TQDContainer</a></dd>
<dd><a href='../../Thread/Apartment/Common.html'>Thread::Apartment::Common</a></dd>
<dd><a href='../../Thread/Queue/Queueable.html'>Thread::Queue::Queueable</a></dd>
</dt>
</dl>

<hr>

Client proxy for apartment threaded objects.
<p>
Licensed under the Academic Free License version 2.1, as specified in the
License.txt file included in this software package, or at
<a href="http://www.opensource.org/licenses/afl-2.1.php">OpenSource.org</a>.


<p>

<dl>

<dt><b>Author:</b></dt>
	<dd>D. Arnold</dd>

<dt><b>Version:</b></dt>
	<dd>0.50</dd>

<dt><b>Since:</b></dt>
	<dd>2005-12-01
</dd>

<p>
<i>Unless otherwise noted, <code>$self
</code> is the object instance variable.</i>
<p>
<table border=1 cellpadding=3 cellspacing=0 width='100%'>
<tr bgcolor='#9800B500EB00'><th align=left><font size='+2'>Constructor Summary</font></th></tr>

<tr><td align=left valign=top>
<code><a href='#Thread::Apartment::Client'>new</a>($proxied_class, $tqd, $id, $isa, $methods, $timeout, $tid)</code>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a threads::shared hash to contain the proxy
information, so it can be readily passed between threads
</td></tr>
</table><p>

<table border=1 cellpadding=3 cellspacing=0 width='100%'>
<tr bgcolor='#9800B500EB00'><th align=left><font size='+2'>Method Summary</font></th></tr>

<tr><td align=left valign=top>
<code><a href='#can'>can</a>($method)</code>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Overload UNIVERSAL::can() to test the available methods of the proxied object
</td></tr>

<tr><td align=left valign=top>
<code><a href='#get_pending_results'>get_pending_results</a>()</code>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return results of a pending method/closure request
</td></tr>

<tr><td align=left valign=top>
<code><a href='#get_proxied_class'>get_proxied_class</a>()</code>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return proxied class


</td></tr>

<tr><td align=left valign=top>
<code><a href='#get_timeout'>get_timeout</a>()</code>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return current TQD timeout


</td></tr>

<tr><td align=left valign=top>
<code><a href='#isa'>isa</a>($class)</code>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Overload UNIVERSAL::isa() to test the class hierarchy of the proxied object
</td></tr>

<tr><td align=left valign=top>
<code><a href='#join'>join</a>()</code>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Wait for the proxied object's apartment thread to exit
</td></tr>

<tr><td align=left valign=top>
<code><a href='#redeem'>redeem</a>($class, $obj)</code>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TQQ redeem() override
</td></tr>

<tr><td align=left valign=top>
<code><a href='#set_async'>set_async</a>($async)</code>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set async method for next call in current thread
</td></tr>

<tr><td align=left valign=top>
<code><a href='#set_timeout'>set_timeout</a>($timeout)</code>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set TQD timeout


</td></tr>

<tr><td align=left valign=top>
<code><a href='#stop'>stop</a>()</code>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Stop the proxied object's apartment thread
</td></tr>

<tr><td align=left valign=top>
<code><a href='#ta_is_simplex'>ta_is_simplex</a>($method)</code>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Test if the specified method is exported as simplex


</td></tr>

<tr><td align=left valign=top>
<code><a href='#ta_is_urgent'>ta_is_urgent</a>($method)</code>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Test if the specified method is exported as urgent


</td></tr>

<tr><td align=left valign=top>
<code><a href='#tac_debug'>tac_debug</a>($level)</code>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set debug level
</td></tr>
</table>
<p>

<a name='constructor_detail'></a>
<table border=1 cellpadding=3 cellspacing=0 width='100%'>
<tr bgcolor='#9800B500EB00'>
	<th align=left><font size='+2'>Constructor Details</font></th>
</tr>
</table>

<a name='new'></a>
<h3>new</h3>
<pre>
new($proxied_class, $tqd, $id, $isa, $methods, $timeout, $tid)
</pre><p>
<dl>
<dd>Creates a threads::shared hash to contain the proxy
information, so it can be readily passed between threads.


<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd><code>$proxied_class</code> - the class of the object to be proxied
</dd>
<dd><code>$tqd</code> - TQD communications channel to proxied object
</dd>
<dd><code>$id</code> - unique object ID for proxied object
</dd>
<dd><code>$isa</code> - arrayref of object's class hierarchy
</dd>
<dd><code>$methods</code> - hashref mapping exported method names to behavior flags
</dd>
<dd><code>$timeout</code> - TQD timeout seconds
</dd>
<dd><code>$tid</code> - thread ID of the apartment thread for the proxied object

</dd>
<dt><b>Returns:</b><dd>Thread::Apartment::Client object
</dd>
</dl></dd></dl><hr>

<p>

<a name='method_detail'></a>
<table border=1 cellpadding=3 cellspacing=0 width='100%'>
<tr bgcolor='#9800B500EB00'>
	<th align=left><font size='+2'>Method Details</font></th>
</tr></table>

<a name='can'></a>
<h3>can</h3>
<pre>
can($method)
</pre><p>
<dl>
<dd>Overload UNIVERSAL::can() to test the available methods of the proxied object.


<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd><code>$method</code> - method to check if implemented by the proxied object

</dd>
<dt><b>Returns:</b><dd>if the proxied object exports $method (or exports AUTOLOAD),
a closure forcing an AUTOLOAD of the specified $method; undef otherwise
</dd>
</dl></dd></dl><hr>

<a name='get_pending_results'></a>
<h3>get_pending_results</h3>
<pre>
get_pending_results()
</pre><p>
<dl>
<dd>Return results of a pending method/closure request.
Looks up the pending request ID in the current thread's T::A,
then waits for the completion of the request, unmarshals and returns
the results.


<p>
<dd><dl>
<dt><b>Returns:</b><dd>results of the currently pending request (if any)
</dd>
</dl></dd></dl><hr>

<a name='get_proxied_class'></a>
<h3>get_proxied_class</h3>
<pre>
get_proxied_class()
</pre><p>
<dl>
<dd>Return proxied class


<p>
<dd><dl>
<dt><b>Returns:</b><dd>proxied class name string
</dd>
</dl></dd></dl><hr>

<a name='get_timeout'></a>
<h3>get_timeout</h3>
<pre>
get_timeout()
</pre><p>
<dl>
<dd>Return current TQD timeout


<p>
<dd><dl>
<dt><b>Returns:</b><dd>TQD timeout in seconds
</dd>
</dl></dd></dl><hr>

<a name='isa'></a>
<h3>isa</h3>
<pre>
isa($class)
</pre><p>
<dl>
<dd>Overload UNIVERSAL::isa() to test the class hierarchy of the proxied object.


<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd><code>$class</code> - class to check if implemented by the proxied object

</dd>
<dt><b>Returns:</b><dd>1 if the proxied object implements $class; undef otherwise
</dd>
</dl></dd></dl><hr>

<a name='join'></a>
<h3>join</h3>
<pre>
join()
</pre><p>
<dl>
<dd>Wait for the proxied object's apartment thread to exit.


<p>
<dd><dl>
<dt><b>Returns:</b><dd>1
</dd>
</dl></dd></dl><hr>

<a name='redeem'></a>
<h3>redeem</h3>
<pre>
redeem($class, $obj)
</pre><p>
<dl>
<dd>TQQ redeem() override. Checks if the TAC has been passed into
the thread in which is was created, in which case it looks up
and returns the proxied object in the T::A object map. Otherwise, just
blesses the object back into a TAC.


<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd><code>$class</code> - our TAC class
</dd>
<dd><code>$obj</code> - the object to be redeem()ed

</dd>
<dt><b>Returns:</b><dd>if in the originating thread, the proxied object; else a
reblessed TAC.
</dd>
</dl></dd></dl><hr>

<a name='set_async'></a>
<h3>set_async</h3>
<pre>
set_async($async)
</pre><p>
<dl>
<dd>Set async method for next call in current thread.


<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd><code>$async</code> - boolean value to set $async_method flag

</dd>
<dt><b>Returns:</b><dd>none
</dd>
</dl></dd></dl><hr>

<a name='set_timeout'></a>
<h3>set_timeout</h3>
<pre>
set_timeout($timeout)
</pre><p>
<dl>
<dd>Set TQD timeout


<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd><code>$timeout</code> - max. number of seconds to wait for TQD responses.

</dd>
<dt><b>Returns:</b><dd>previous timeout value
</dd>
</dl></dd></dl><hr>

<a name='stop'></a>
<h3>stop</h3>
<pre>
stop()
</pre><p>
<dl>
<dd>Stop the proxied object's apartment thread.

<p>
<dd><dl>
</dl></dd></dl><hr>

<a name='ta_is_simplex'></a>
<h3>ta_is_simplex</h3>
<pre>
ta_is_simplex($method)
</pre><p>
<dl>
<dd>Test if the specified method is exported as simplex


<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd><code>$method</code> - method to test for simplex behavior

</dd>
<dt><b>Returns:</b><dd>1 if $method is exported and is simplex; undef otherwise
</dd>
</dl></dd></dl><hr>

<a name='ta_is_urgent'></a>
<h3>ta_is_urgent</h3>
<pre>
ta_is_urgent($method)
</pre><p>
<dl>
<dd>Test if the specified method is exported as urgent


<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd><code>$method</code> - method to test for urgent behavior

</dd>
<dt><b>Returns:</b><dd>1 if $method is exported and is urgent; undef otherwise
</dd>
</dl></dd></dl><hr>

<a name='tac_debug'></a>
<h3>tac_debug</h3>
<pre>
tac_debug($level)
</pre><p>
<dl>
<dd>Set debug level. When set to a "true" value, causes the TAC to emit
diagnostic information.


<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd><code>$level</code> - debug level. zero or undef turns off debugging; all other values enable debugging

</dd>
<dt><b>Returns:</b><dd>the new level
</dd>
</dl></dd></dl><hr>

<small>
<center>
<i>Generated by psichedoc on Mon Mar 27 08:51:36 2006</i>
</center>
</small>
</body>
</html>
